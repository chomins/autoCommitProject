# ì½”ë“œ ë¦¬ë·° ê¸°ëŠ¥ ê°€ì´ë“œ

## ğŸ” ê°œìš”

Auto Commitì˜ ì½”ë“œ ë¦¬ë·° ê¸°ëŠ¥ì€ **í† í° ì‚¬ìš©ëŸ‰ì„ ìµœì†Œí™”**í•˜ë©´ì„œë„ íš¨ê³¼ì ì¸ ì½”ë“œ ë¦¬ë·°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ’¡ í•µì‹¬ ê°œë…

### í† í° ì ˆì•½ ì „ëµ

1. **ìŠ¤ë§ˆíŠ¸ Diff ì••ì¶•** (70-80% í† í° ì ˆê°)
   - í•¨ìˆ˜/ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ë§Œ ì¶”ì¶œ
   - ì£¼ìš” ë¡œì§ ë³€ê²½ë§Œ í¬í•¨ (if, for, return ë“±)
   - import ë¬¸, ê³µë°±, ì£¼ì„ ì œì™¸
   - ë‹¨ìˆœ í¬ë§·íŒ… ë³€ê²½ ì œì™¸

2. **íŒŒì¼ ìš°ì„ ìˆœìœ„ í•„í„°ë§**
   - ê³ ìš°ì„ ìˆœìœ„: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, API ì—”ë“œí¬ì¸íŠ¸
   - ì €ìš°ì„ ìˆœìœ„: í…ŒìŠ¤íŠ¸ íŒŒì¼, ì„¤ì • íŒŒì¼ (quick ëª¨ë“œì—ì„œ ìë™ ì œì™¸)

3. **ë³€ê²½ í¬ê¸° ê¸°ë°˜ ìë™ ì¡°ì ˆ**
   - < 50ì¤„: ìƒì„¸ ë¦¬ë·°
   - 50-200ì¤„: ì¤‘ê°„ ë¦¬ë·° (í•µì‹¬ë§Œ)
   - > 200ì¤„: ê°„ë‹¨ ë¦¬ë·° (ìš”ì•½ + ìœ„í—˜ ë¶€ë¶„ë§Œ)

## ğŸ“Š ë¦¬ë·° ë ˆë²¨ ìƒì„¸

### Quick (ê°„ë‹¨ ë¦¬ë·°)
- **í† í°**: ~150 í† í°
- **ì†ë„**: ë§¤ìš° ë¹ ë¦„
- **ìš©ë„**: ì¼ìƒì ì¸ ì»¤ë°‹
- **ë¶„ì„**: 
  - âŒ ëª…ë°±í•œ ë²„ê·¸ (null pointer, logic errors)
  - âš ï¸  ë³´ì•ˆ ì´ìŠˆ
  - ğŸ”¥ ì‹¬ê°í•œ ì„±ëŠ¥ ë¬¸ì œ

```bash
auto-commit --review
```

### Normal (ì¼ë°˜ ë¦¬ë·°)
- **í† í°**: ~400 í† í°
- **ì†ë„**: ì ë‹¹í•¨
- **ìš©ë„**: ì¤‘ìš”í•œ ë³€ê²½ì‚¬í•­
- **ë¶„ì„**:
  - âŒ ë²„ê·¸ ë° ë³´ì•ˆ
  - âš ï¸  ì ì¬ì  ì´ìŠˆ, ì—£ì§€ ì¼€ì´ìŠ¤
  - ğŸ’¡ ì½”ë“œ í’ˆì§ˆ, ë„¤ì´ë°

```bash
auto-commit --review --review-level normal
```

### Detailed (ìƒì„¸ ë¦¬ë·°)
- **í† í°**: ~800 í† í°
- **ì†ë„**: ëŠë¦¼
- **ìš©ë„**: ì£¼ìš” ê¸°ëŠ¥ ì¶”ê°€, ë³´ì•ˆ ê´€ë ¨ ë³€ê²½
- **ë¶„ì„**:
  - ğŸ› ë²„ê·¸ ë° ë¡œì§ ì˜¤ë¥˜
  - ğŸ”’ ë³´ì•ˆ ì·¨ì•½ì 
  - âš¡ ì„±ëŠ¥ ì´ìŠˆ
  - ğŸ—ï¸  ì•„í‚¤í…ì²˜ & ë””ìì¸ íŒ¨í„´
  - ğŸ“ ì½”ë“œ í’ˆì§ˆ & ê°€ë…ì„±
  - âœ¨ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

```bash
auto-commit --review-detailed
```

## ğŸ¯ ì‹¤ì „ ì‚¬ìš© ì˜ˆì œ

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì¼ìƒì ì¸ ë²„ê·¸ í”½ìŠ¤

```bash
# ë³€ê²½ ì‚¬í•­
- src/user_service.py ìˆ˜ì • (30ì¤„)
- ê°„ë‹¨í•œ null check ì¶”ê°€

# ì¶”ì²œ ë°©ë²•
git add src/user_service.py
auto-commit --review

# ê²°ê³¼ (í† í°: ~80)
âœ… ì „ë°˜ì ìœ¼ë¡œ ì–‘í˜¸í•©ë‹ˆë‹¤
ğŸ’¡ ë³€ìˆ˜ëª… ê°œì„  ì œì•ˆ
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

```bash
# ë³€ê²½ ì‚¬í•­
- src/api/payment_controller.py (150ì¤„)
- ê²°ì œ ì²˜ë¦¬ ë¡œì§

# ì¶”ì²œ ë°©ë²•
git add src/api/payment_controller.py
auto-commit --review --review-level normal

# ê²°ê³¼ (í† í°: ~350)
âš ï¸  error handling ê°œì„  í•„ìš”
ğŸ’¡ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ê³ ë ¤ í•„ìš”
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë³´ì•ˆ ì¸ì¦ ì‹œìŠ¤í…œ ê°œì„ 

```bash
# ë³€ê²½ ì‚¬í•­
- src/auth/ (ì—¬ëŸ¬ íŒŒì¼, 500ì¤„)
- JWT, OAuth ì²˜ë¦¬

# ì¶”ì²œ ë°©ë²•
git add src/auth/
auto-commit --review-detailed

# ê²°ê³¼ (í† í°: ~700)
ğŸ”’ ë³´ì•ˆ: í† í° ë§Œë£Œ ì‹œê°„ ê²€ì¦ ì¶”ê°€ í•„ìš”
âš¡ ì„±ëŠ¥: ìºì‹± ê³ ë ¤
ğŸ—ï¸  ì•„í‚¤í…ì²˜: ì¸ì¦/ì¸ê°€ ë¶„ë¦¬ ì¶”ì²œ
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: ëŒ€ëŸ‰ ë¦¬íŒ©í† ë§

```bash
# ë³€ê²½ ì‚¬í•­
- ì „ì²´ í”„ë¡œì íŠ¸ (1000ì¤„ ì´ìƒ)

# ì¶”ì²œ ë°©ë²• (íŒŒì¼ë³„ë¡œ ë‚˜ëˆ ì„œ)
git add src/service1.py
auto-commit --review

git add src/service2.py
auto-commit --review

# ë˜ëŠ” ìš”ì•½ ë¦¬ë·°ë§Œ
git add .
auto-commit --review-only

# ê²°ê³¼: ëŒ€ëŸ‰ ë³€ê²½ ìë™ ê°ì§€
âš ï¸  ëŒ€ëŸ‰ ë³€ê²½ ê°ì§€ - ìš”ì•½ ë¦¬ë·°
ğŸ“ .py íŒŒì¼: 15ê°œ (+500/-200)
  â€¢ service1.py (+150/-50)
  â€¢ service2.py (+120/-30)
```

## âš™ï¸ ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•

### `~/.auto-commit/config.yaml`

```yaml
review:
  # ê¸°ë³¸ì ìœ¼ë¡œ í•­ìƒ ë¦¬ë·° í™œì„±í™” (NEW!)
  enabled: true                # trueë©´ --review ì˜µì…˜ ì—†ì´ë„ ìë™ ì‹¤í–‰
  
  # ê¸°ë³¸ ë¦¬ë·° ë ˆë²¨
  default_level: quick         # quick/normal/detailed
  
  # Temperature (ë¦¬ë·° ì •í™•ë„)
  temperature: 0.2
  
  # ë ˆë²¨ë³„ ìµœëŒ€ í† í°
  max_tokens_quick: 150
  max_tokens_normal: 400
  max_tokens_detailed: 800
  
  # ìë™ ë ˆë²¨ ì¡°ì ˆ
  auto_adjust_level: true
  
  # ì œì™¸ íŒ¨í„´
  exclude_patterns:
    - "*_test.py"
    - "test_*.py"
    - "*.spec.ts"
    - "*.spec.js"
    - "migrations/*"
    - "*.md"
```

### ê¸°ë³¸ ë™ì‘ ì„¤ì •

**`enabled: true`ë¡œ ì„¤ì •í•˜ë©´**:
```bash
# ì´ë ‡ê²Œë§Œ í•´ë„ ìë™ìœ¼ë¡œ ë¦¬ë·° ì‹¤í–‰!
auto-commit

# ë¦¬ë·° ê±´ë„ˆë›°ê³  ì‹¶ì„ ë•Œ
auto-commit --no-review
```

**`enabled: false`ë¡œ ì„¤ì •í•˜ë©´**:
```bash
# ëª…ì‹œì ìœ¼ë¡œ ì˜µì…˜ì„ ì¤˜ì•¼ ë¦¬ë·° ì‹¤í–‰
auto-commit --review
```

## ğŸ’° í† í° ë¹„ìš© ë¹„êµ

### Gemini 2.0 Flash (ë¬´ë£Œ í• ë‹¹ëŸ‰)
- Quick: ë¬´ë£Œ (15 req/min ë‚´)
- Normal: ë¬´ë£Œ
- Detailed: ë¬´ë£Œ
- **ì›” ì˜ˆìƒ ë¹„ìš©**: $0 (ë¬´ë£Œ í• ë‹¹ëŸ‰ ë‚´)

### GPT-4 Turbo
- Quick: ~$0.0015 per review
- Normal: ~$0.004 per review
- Detailed: ~$0.008 per review
- **ì›” ì˜ˆìƒ ë¹„ìš©**: $5-20 (í•˜ë£¨ 10-20 ì»¤ë°‹ ê¸°ì¤€)

### Claude 3.5 Sonnet
- Quick: ~$0.00045 per review
- Normal: ~$0.0012 per review
- Detailed: ~$0.0024 per review
- **ì›” ì˜ˆìƒ ë¹„ìš©**: $2-10 (í•˜ë£¨ 10-20 ì»¤ë°‹ ê¸°ì¤€)

## ğŸ“ ëª¨ë²” ì‚¬ë¡€

### DO âœ…

```bash
# 1. íŒŒì¼ë³„ë¡œ ë¦¬ë·° (ì»¨í…ìŠ¤íŠ¸ ì§‘ì¤‘)
git add src/payment.py
auto-commit --review

# 2. ë¦¬ë·°ë§Œ ë¨¼ì € í™•ì¸
auto-commit --review-only

# 3. ì¤‘ìš”í•œ íŒŒì¼ì€ ë ˆë²¨ ì˜¬ë¦¬ê¸°
auto-commit --review --files src/auth.py --review-level normal

# 4. ì¼ìƒì  ì»¤ë°‹ì€ quick
git add .
auto-commit --review
```

### DON'T âŒ

```bash
# 1. ëŒ€ëŸ‰ ë³€ê²½ì„ detailedë¡œ (ë¹„íš¨ìœ¨)
git add .  # 1000ì¤„ ì´ìƒ
auto-commit --review-detailed  # í† í° ë‚­ë¹„

# 2. í…ŒìŠ¤íŠ¸ íŒŒì¼ë§Œ detailedë¡œ
git add tests/
auto-commit --review-detailed  # ë¶ˆí•„ìš”

# 3. ë¦¬ë·° ì—†ì´ ì¤‘ìš” ë³€ê²½ ì»¤ë°‹
git add src/security.py
auto-commit  # ë¦¬ë·° ê¶Œì¥!
```

## ğŸ”¬ ë‚´ë¶€ ë™ì‘ ì›ë¦¬

### Diff ì••ì¶• ê³¼ì •

1. **íŒŒì¼ ìš°ì„ ìˆœìœ„ íŒë‹¨**
   ```python
   high_priority = ["service", "controller", "api", "model"]
   low_priority = ["test_", ".md", "migration"]
   ```

2. **ì¤‘ìš” ë³€ê²½ì‚¬í•­ ì¶”ì¶œ**
   ```python
   # í¬í•¨
   - í•¨ìˆ˜/í´ë˜ìŠ¤ ì‹œê·¸ë‹ˆì²˜
   - ë¡œì§ ë³€ê²½ (if, for, return)
   - ë³€ìˆ˜ ì„ ì–¸ ë° í• ë‹¹
   
   # ì œì™¸
   - import ë¬¸
   - ê³µë°±, ì£¼ì„
   - í¬ë§·íŒ… ë³€ê²½
   ```

3. **í† í° ì¶”ì •**
   ```python
   token_estimate = len(compressed_diff) // 4
   # í‰ê·  4ì = 1í† í°
   ```

## ğŸ“ ì¶œë ¥ í˜•ì‹ ì˜ˆì œ

### Quick ëª¨ë“œ ì¶œë ¥
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” AI ì½”ë“œ ë¦¬ë·° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                        â”‚
â”‚ âœ… ë¬¸ì œ ì—†ìŒ                            â”‚
â”‚                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
ğŸ’¡ ì˜ˆìƒ í† í° ì‚¬ìš©: ~45 tokens
```

### Normal ëª¨ë“œ ì¶œë ¥
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” AI ì½”ë“œ ë¦¬ë·° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                        â”‚
â”‚ âœ… ì „ë°˜ì ìœ¼ë¡œ ì–‘í˜¸í•©ë‹ˆë‹¤                 â”‚
â”‚                                        â”‚
â”‚ âš ï¸  ì£¼ì˜ì‚¬í•­:                          â”‚
â”‚   â€¢ user_service.py:45                â”‚
â”‚     null check ëˆ„ë½ ê°€ëŠ¥ì„±              â”‚
â”‚                                        â”‚
â”‚ ğŸ’¡ ì œì•ˆ:                               â”‚
â”‚   â€¢ ë³€ìˆ˜ëª… ê°œì„  ê¶Œì¥                    â”‚
â”‚     'tmp' â†’ 'temp_user'               â”‚
â”‚                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
ğŸ’¡ ì˜ˆìƒ í† í° ì‚¬ìš©: ~120 tokens
```

### Detailed ëª¨ë“œ ì¶œë ¥
```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” AI ì½”ë“œ ë¦¬ë·° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                        â”‚
â”‚ ğŸ› ë²„ê·¸:                               â”‚
â”‚   â€¢ payment.py:67                     â”‚
â”‚     ê¸ˆì•¡ ê²€ì¦ ë¡œì§ ëˆ„ë½                 â”‚
â”‚                                        â”‚
â”‚ ğŸ”’ ë³´ì•ˆ:                               â”‚
â”‚   â€¢ auth.py:23                        â”‚
â”‚     ì…ë ¥ê°’ sanitize í•„ìš”               â”‚
â”‚                                        â”‚
â”‚ âš¡ ì„±ëŠ¥:                                â”‚
â”‚   â€¢ service.py:102                    â”‚
â”‚     DB ì¿¼ë¦¬ N+1 ë¬¸ì œ                   â”‚
â”‚                                        â”‚
â”‚ ğŸ—ï¸  ì•„í‚¤í…ì²˜:                          â”‚
â”‚   â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ DB ë ˆì´ì–´ ë¶„ë¦¬ ê¶Œì¥  â”‚
â”‚                                        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
ğŸ’¡ ì˜ˆìƒ í† í° ì‚¬ìš©: ~650 tokens
```

## ğŸš€ ê³ ê¸‰ ê¸°ëŠ¥

### íŒŒì¼ í•„í„°ë§
```bash
# Python íŒŒì¼ë§Œ ë¦¬ë·°
auto-commit --review --files "*.py"

# íŠ¹ì • ë””ë ‰í† ë¦¬ë§Œ
auto-commit --review --files src/services/

# ì—¬ëŸ¬ íŒŒì¼
auto-commit --review --files auth.py payment.py
```

### ì›Œí¬í”Œë¡œìš° í†µí•©
```bash
# 1. ê°œë°œ
vim src/feature.py

# 2. ë¦¬ë·° ë¨¼ì €
auto-commit --review-only

# 3. ìˆ˜ì • ë°˜ì˜
vim src/feature.py

# 4. ìµœì¢… ì»¤ë°‹
auto-commit --review
```

### CI/CD í†µí•©
```yaml
# .github/workflows/review.yml
name: Code Review
on: [pull_request]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Python
        uses: actions/setup-python@v2
      - name: Install Auto Commit
        run: |
          pip install -e .
      - name: Review Changes
        run: |
          auto-commit --review-only --review-level normal
        env:
          AI_PROVIDER: gemini
          GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
```

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### "í† í° ì‚¬ìš©ëŸ‰ì´ ì˜ˆìƒë³´ë‹¤ ë§ìŒ"
**í•´ê²°**: 
- `--review-level quick` ì‚¬ìš©
- íŒŒì¼ì„ ë‚˜ëˆ ì„œ ë¦¬ë·°
- `config.yaml`ì—ì„œ `max_tokens_quick` ì¤„ì´ê¸°

### "ë¦¬ë·°ê°€ ë„ˆë¬´ ê°„ë‹¨í•¨"
**í•´ê²°**:
- `--review-level normal` ë˜ëŠ” `--review-detailed` ì‚¬ìš©
- `max_tokens` ëŠ˜ë¦¬ê¸°

### "ì¤‘ìš”í•œ íŒŒì¼ì´ ì œì™¸ë¨"
**í•´ê²°**:
- `exclude_patterns` í™•ì¸
- íŠ¹ì • íŒŒì¼ ì§€ì •: `--files important.py`

## ğŸ“š ì¶”ê°€ ìë£Œ

- [ì „ì²´ ë¬¸ì„œ](README.md)
- [Gemini ì„¤ì • ê°€ì´ë“œ](GEMINI_SETUP.md)
- [GitHub ì´ìŠˆ](https://github.com/chomins/autoCommitProject/issues)

